{% extends 'blog/inicio.html' %} 
{% block content %}
    <div class="container mt-4">
        <h2>BÃºsqueda de Productos</h2>
        
        <form method="GET" action="{% url 'buscar' %}">
            <div class="input-group mb-4">
                <input 
                    type="text" 
                    class="form-control" 
                    placeholder="Escribe el nombre del producto..."
                    name="nombre" 
                    aria-label="Nombre del producto"
                    value="{{ request.GET.nombre|default:'' }}" 
                    required
                >
                <button class="btn btn-primary" type="submit">Buscar</button>
            </div>
        </form>

        {% if productos %}
            <hr>
            <h3>Resultados Encontrados ({{ productos|length }})</h3>
            <ul class="list-group">
                {% for producto in productos %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ productos.nombre_prod }}
                        <span class="badge bg-info text-dark">ID: {{ producto.stock }}</span>
                    </li>
                {% endfor %}
            </ul>
        {% elif request.GET.nombre %}
            <hr>
            <p class="alert alert-warning">No se encontraron productos que contengan "{{ request.GET.nombre_prod }}".</p>
        {% endif %}

    </div>
{% endblock content %}